一、说明：

1. 后端基于jdk21，springboot3.5.7，mysql8，mybatis。使用全局错误处理器，对于失败的业务（例如密码错误等）直接抛出异常，由全局异常统一返回前端即可

2. 前端只是在html中使用vue3组合式api，element-plus，axios进行开发，而不是vue3脚手架项目。将所有的网络请求都放在同一个js文件中，是否更好？如果好就放

3. 对于大语言模型的调用，通过dashscope sdk使用阿里云百炼的api，使用qwen-flash模型，我已经申请好了apikey，下面给出其maven坐标，直接使用即可

```xml
<!-- 阿里云百炼SDK依赖 -->
<dependency>
    <groupId>com.alibaba</groupId>
    <artifactId>dashscope-sdk-java</artifactId>
    <version>2.21.14</version>
</dependency>
```

4. 参考本文档，要求先给出框架设计和数据库表设计并形成文档，restful api设计

5. 前后端的交互通过RestFul api进行，使用Result进行数据封装，统一返回格式为：{"code": 0, "message": "success", "data": {}}。

6. 对于除了登录注册页面的访问，如果当前没有用户登录，应该重定向到登录页面。注册成功后跳转到登录页面。

7. 前端页面设计追求简洁，主要包括登录注册页面、行程管理页面（展示用户创建的行程，包括行程详情、费用预算，点开可以看到具体的行程）、创建行程页面（用户填写行程信息，包括目的地、日期、预算、同行人数、旅行偏好等，也可以使用语音输入，然后出现ai生成的规划并直接保存到行程中）。


二、核心功能：

1. 智能行程规划: 我们在行程规划界面提供一个表单供用户填写旅行目的地、日期、预算、同行人数、旅行偏好（可能无偏好）等信息（参考，具体条目你来规划），或者用户不填写直接使用文字或者语音输入（例如：“我想去日本，5 天，预算 1 万元，喜欢美食和动漫，带孩子”，那么缺少的条目就应该让llm推测出来），AI 会自动生成个性化的旅行路线，包括交通、住宿、景点、餐厅等详细信息。

* 注意语音记录不需要存储，我们就是在添加行程时，提供语音转文字的功能，然后用户只需要对转出的文字进行微调就可以使用了。也就是：用户语音输入转文字->微调（或者不调）-> 调用ai生成规划。

2. 费用预算与管理: 由 AI 进行预算分析，记录旅行开销（推荐可以使用语音）。

3. 用户管理与数据存储:

* 注册登录系统: 用户可以保存和管理多份旅行计划。可以使用ThreadLocal保存当前登录用户的Id，使得不至于每个请求都附带用户Id（只是参考，你可以选择业界主流方案）

三、技术栈（ Web）:

语音识别：使用科大讯飞的语音识别api进行语音转文字（需要申请apikey）

数据库/认证： 使用阿里云的数据库服务，包括数据库实例、数据库账号、数据库密码等。

行程规划和费用预算：通过阿里云百炼的apikey，使用qwen-flash模型，完成形成规划和费用预算的估计。

UI/UX：清晰的行程展示，美观的图片。